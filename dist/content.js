(()=>{var e,t=[],n=null,o={reddit:{post:".Post",comment:".Comment",username:'a[href^="/user/"]',content:".RichTextJSON-root, .Comment__body, .Post-title, .Post-content"},twitter:{post:'[data-testid="tweet"]',username:'[data-testid="User-Name"]',content:'[data-testid="tweetText"]'},youtube:{video:".ytd-video-renderer",comment:"ytd-comment-renderer",username:"#author-text",content:"#content-text"},facebook:{post:'[role="article"]',username:".x1heor9g",content:".xdj266r"},instagram:{post:"article",username:"._aacl._aacs._aact",content:"._a9zs"}};function r(){if(n&&t.length){var e=o[n];if(e){var r=t.map((function(e){return new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")})),c=function(e){return r.some((function(t){return t.test(e)}))};switch(n){case"reddit":!function(e,t){document.querySelectorAll(e.post).forEach((function(n){var o=n.querySelector(e.content);o&&t(o.textContent)&&(n.style.display="none")})),document.querySelectorAll(e.comment).forEach((function(n){var o=n.querySelector(e.content);o&&t(o.textContent)&&(n.style.display="none")})),document.querySelectorAll(e.username).forEach((function(n){if(t(n.textContent)){var o=n.closest(e.post)||n.closest(e.comment);o&&(o.style.display="none")}}))}(e,c);break;case"twitter":!function(e,t){document.querySelectorAll(e.post).forEach((function(n){var o=n.querySelector(e.content),r=n.querySelector(e.username);(o&&t(o.textContent)||r&&t(r.textContent))&&(n.style.display="none")}))}(e,c);break;case"youtube":!function(e,t){document.querySelectorAll(e.video).forEach((function(n){var o=n.querySelector(e.content),r=n.querySelector(e.username);(o&&t(o.textContent)||r&&t(r.textContent))&&(n.style.display="none")})),document.querySelectorAll(e.comment).forEach((function(n){var o=n.querySelector(e.content);o&&t(o.textContent)&&(n.style.display="none")}))}(e,c);break;case"facebook":!function(e,t){document.querySelectorAll(e.post).forEach((function(n){var o=n.querySelector(e.content),r=n.querySelector(e.username);(o&&t(o.textContent)||r&&t(r.textContent))&&(n.style.display="none")}))}(e,c);break;case"instagram":!function(e,t){document.querySelectorAll(e.post).forEach((function(n){var o=n.querySelector(e.content),r=n.querySelector(e.username);(o&&t(o.textContent)||r&&t(r.textContent))&&(n.style.display="none")}))}(e,c)}}}}chrome.runtime.onMessage.addListener((function(e,o,c){"updateBlocks"===e.action&&e.platform===n&&(t=e.blockedTerms,r())})),new MutationObserver((function(e){n&&r()})).observe(document.body,{childList:!0,subtree:!0}),e=window.location.hostname,(n=e.includes("reddit.com")?"reddit":e.includes("twitter.com")?"twitter":e.includes("youtube.com")?"youtube":e.includes("facebook.com")?"facebook":e.includes("instagram.com")?"instagram":null)&&chrome.storage.sync.get(["platformBlocks"],(function(e){var o=e.platformBlocks||{};t=o[n]||[],r()}))})();